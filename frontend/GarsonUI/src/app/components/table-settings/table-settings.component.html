<script type="text/javascript">
  $(document).ready(() => {
    $('#mytable #checkall').click(function () {
      if ($("#mytable #checkall").is(':checked')) {
        $('#mytable input[type=checkbox]').each(function () {
          $(this).prop("checked", true);


        });

      } else {
        $("#mytable input[type=checkbox]").each(function () {
          $(this).prop("checked", false);
        });
      }
    });

    $("[data-toggle=tooltip]").tooltip();
  });


  $("#mytable input[type=checkbox]:checked").on("click", function () {
    var name = $(this).parents("tr").attr('data-value');

  });



</script>
<div class="container">
  <h4>MASA AYARLARI</h4>

  <div id="CreateTables" class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="basic-addon3">Masa Sayınızı Belirtiniz</span>
    </div>
    <form [formGroup]="tableForm" novalidate (ngSubmit)="submitTableNumber()">
      <div class="row">
        <div class="col-lg-5">
          <input type="text" class="form-control" formControlName="counter" id="basic" aria-describedby="basic-addon3">
        </div>
        <div class="col-lg-5">
          <button type="submit" class="btn btn-dark">Kaydet</button>
        </div>
      </div>
    </form>
  </div>
  <!-- INCREASE-DECREASE NUMBER OF TABLES -->
  <div id="UpdateTables" class="input-group mb-3">
    <div class="row">
      <div class="col-lg-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon3">Masa Sayınızı Güncelleyin</span>
        </div>
      </div>
    </div>
    <div class="col-lg-9" style="margin-left: 3%;">
      <form [formGroup]="tableForm">
        <div>
          <label>Masa Sayısını Arttır</label><span></span>
          <button type="button" (click)="addTable()" class="btn btn-sm btn-dark">+</button>
        </div>
      </form>
      <form [formGroup]="tableForm">
        <div>
          <label>Masa Sayısını Azalt</label><span></span>
          <button type="button" (click)="removeTable()" class="btn btn-sm btn-dark">-</button>
        </div>
      </form>

    </div>

  </div>
  <!-- TOPLAM MASA SAYISI -->
  <div class="row">
    <div class="col-lg-6">
      <h5>Toplam Masa Sayısı</h5>
    </div>
    <div class="col-lg-6">
      <h5 id="totalTableNumber"></h5>
    </div>
  </div>

  <div class="table-responsive">


    <table id="mytable" class="table table-bordred table-dark table-hover table-striped">
      <thead>
        <th><img class="img-responsive img-rounded" src="assets/images/tableIcon.png" alt="User picture"></th>
        <th>Masa No</th>
        <th>Masa Adı</th>
        <th>Güncelle</th>
      </thead>
      <tbody *ngFor="let table of tables;let i=index;">
        <tr>
          <td><input type="checkbox" class="checkall" id="checked" (change)="selectedTable($event,table)" />
          </td>
          <td style="color: white;">{{table.no}}</td>
          <td id="tableName">{{table.name}}</td>
          <td>
            <p data-placement="top" data-toggle="tooltip" title="Edit"><button class="btn btn-primary btn-xs"
                (click)="sendingValue()" data-title="Edit" data-toggle="modal" data-target="#edit"><i
                  class="fas fa-edit fa-xs"></i></button>
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="clearfix"></div>
    <ul class="pagination pull-right">
      <li class="disabled"><a href="#"><i class="fas fa-chevron-left"></i></a></li>
      <li class="active"><a href="#">1</a></li>
      <li><a href="#">2</a></li>
      <li><a href="#">3</a></li>
      <li><a href="#">4</a></li>
      <li><a href="#">5</a></li>
      <li><a href="#"><i class="fas fa-chevron-right"></i></a></li>
    </ul>
  </div>
</div>


<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i
            style="position: absolute;left: 0.5rem;" class="fas fa-times"></i></button>
        <h4 class="modal-title custom_align" id="Heading">Yeni Masa Adını Giriniz</h4>
      </div>
      <div class="modal-body">
        <form id="updateForm" [formGroup]="updateTableNameForm" novalidate (ngSubmit)="UpdateTableName()">
          {{updateTableNameForm.value|json}}
          <div hidden="true" class="form-group">
            <input class="form-control " type="text" placeholder="ürün ID'si" formControlName="_id">
          </div>
          <div class="form-group">
            <label>Masa No</label>
            <input class="form-control " type="text" id="updateNo" placeholder="ürün sıra no" formControlName="no">
          </div>
          <div class="form-group">
            <label>Masa Adı</label>
            <input class="form-control " type="text" id="updateName" placeholder="ürün adı" formControlName="name">
          </div>
          <div class="modal-footer ">
            <button class="btn btn-warning btn-lg" style="width: 100%;"><i
                style="position: absolute;left: 3rem;bottom: 3rem;" class="fas fa-check-circle"></i>Güncelle</button>
          </div>
        </form>

      </div>

    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>

<div class="container-fluid">
  <h3 id="EmptyTable"> İş yerinizde Bulunan Masa Sayınızı Belirtiniz!</h3>
</div>
